{"componentChunkName":"component---src-templates-jupyter-notebook-js","path":"/data-science/github-labeler/src/data/issue_extraction.ipynb","result":{"data":{"site":{"siteMetadata":{"title":"Operate First"}},"jupyterNotebook":{"id":"910f1fb1-5a11-5d37-82f6-dd23aba2f2cd >>> JupyterNotebook","html":"<div class=\"notebook-render\"><div class=\"sc-ifAKCX zMCZx\"><div class=\"sc-bxivhb HLmih cell\" style=\"box-shadow:none\"><div class=\"sc-iwsKbI exQuEV markdown\"><h1>Issue Extraction</h1></div></div><div class=\"sc-bxivhb HLmih cell\" style=\"box-shadow:none\"><div class=\"sc-iwsKbI exQuEV markdown\"><p>In this notebook the github API is used with a github access token in order to download github issue data. There is functionality to wait when rate limits are reached, and already existing data can be appended to.</p></div></div><div class=\"sc-bxivhb HLmih cell\" style=\"box-shadow:none\"><div class=\"sc-iwsKbI exQuEV markdown\"><h2>Prepare Environment Variables</h2>\n<p>We import our packages and define our savename. The &quot;REPO_NAME&quot; environment variable should be either a github user/organization or a repo in the form {user}/{repo}. The savename will be used throughtout the issue labeler code for ceph and local storage.</p></div></div><div class=\"sc-bxivhb HLmih cell\" style=\"box-shadow:none\"><div class=\"sc-gzVnrw iiEGBE input-container\"><div class=\"sc-bwzfXH jsVRSS prompt\">[2]</div><pre class=\"sc-bZQynM dQAqiJ input\" style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:0.95em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:10px 0px 10px 10px;margin:0px;overflow:auto;border:none;background-color:var(--cm-background, #fafafa)\"><code style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:0.95em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none\"><span class=\"token\" style=\"color:#0000ff\">import</span> pandas <span class=\"token\" style=\"color:#0000ff\">as</span> pd\n<span class=\"token\" style=\"color:#0000ff\">import</span> numpy <span class=\"token\" style=\"color:#0000ff\">as</span> np\n<span class=\"token\" style=\"color:#0000ff\">import</span> collections\n<span class=\"token\" style=\"color:#0000ff\">import</span> datetime\n<span class=\"token\" style=\"color:#0000ff\">import</span> time\n<span class=\"token\" style=\"color:#0000ff\">from</span> github <span class=\"token\" style=\"color:#0000ff\">import</span> Github<span class=\"token\" style=\"color:#393A34\">,</span> RateLimitExceededException\n<span class=\"token\" style=\"color:#0000ff\">import</span> os\n<span class=\"token\" style=\"color:#0000ff\">import</span> itertools\n<span class=\"token\" style=\"color:#0000ff\">import</span> seaborn <span class=\"token\" style=\"color:#0000ff\">as</span> sns\n<span class=\"token\" style=\"color:#0000ff\">import</span> io\n<span class=\"token\" style=\"color:#0000ff\">from</span> dotenv <span class=\"token\" style=\"color:#0000ff\">import</span> load_dotenv<span class=\"token\" style=\"color:#393A34\">,</span> find_dotenv\n<span class=\"token\" style=\"color:#0000ff\">import</span> boto3</code></pre></div></div><div class=\"sc-bxivhb HLmih cell\" style=\"box-shadow:none\"><div class=\"sc-gzVnrw iiEGBE input-container\"><div class=\"sc-bwzfXH jsVRSS prompt\">[3]</div><pre class=\"sc-bZQynM dQAqiJ input\" style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:0.95em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:10px 0px 10px 10px;margin:0px;overflow:auto;border:none;background-color:var(--cm-background, #fafafa)\"><code style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:0.95em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none\">load_dotenv<span class=\"token\" style=\"color:#393A34\">(</span>find_dotenv<span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#393A34\">)</span><span class=\"token\" style=\"color:#393A34\">)</span></code></pre></div><div class=\"sc-htoDjs wOXyQ nteract-outputs\" style=\"max-height:100%\"><div class=\"cell_display\" style=\"max-height:100%;overflow-y:auto\"><pre><code><span>True</span></code></pre></div></div></div><div class=\"sc-bxivhb HLmih cell\" style=\"box-shadow:none\"><div class=\"sc-gzVnrw iiEGBE input-container\"><div class=\"sc-bwzfXH jsVRSS prompt\">[4]</div><pre class=\"sc-bZQynM dQAqiJ input\" style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:0.95em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:10px 0px 10px 10px;margin:0px;overflow:auto;border:none;background-color:var(--cm-background, #fafafa)\"><code style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:0.95em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none\">g <span class=\"token\" style=\"color:#393A34\">=</span> Github<span class=\"token\" style=\"color:#393A34\">(</span>os<span class=\"token\" style=\"color:#393A34\">.</span>getenv<span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#A31515\">&quot;GITHUB_ACCESS_TOKEN&quot;</span><span class=\"token\" style=\"color:#393A34\">)</span><span class=\"token\" style=\"color:#393A34\">)</span></code></pre></div></div><div class=\"sc-bxivhb HLmih cell\" style=\"box-shadow:none\"><div class=\"sc-gzVnrw iiEGBE input-container\"><div class=\"sc-bwzfXH jsVRSS prompt\">[5]</div><pre class=\"sc-bZQynM dQAqiJ input\" style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:0.95em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:10px 0px 10px 10px;margin:0px;overflow:auto;border:none;background-color:var(--cm-background, #fafafa)\"><code style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:0.95em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none\">name <span class=\"token\" style=\"color:#393A34\">=</span> os<span class=\"token\" style=\"color:#393A34\">.</span>getenv<span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#A31515\">&quot;REPO_NAME&quot;</span><span class=\"token\" style=\"color:#393A34\">)</span>\n\n<span class=\"token\" style=\"color:#0000ff\">if</span> <span class=\"token\" style=\"color:#A31515\">&quot;/&quot;</span> <span class=\"token\" style=\"color:#0000ff\">in</span> name<span class=\"token\" style=\"color:#393A34\">:</span>\n    REPO <span class=\"token\" style=\"color:#393A34\">=</span> name\n    USER <span class=\"token\" style=\"color:#393A34\">=</span> <span class=\"token\" style=\"color:#A31515\">&quot;&quot;</span>\n<span class=\"token\" style=\"color:#0000ff\">else</span><span class=\"token\" style=\"color:#393A34\">:</span>\n    USER <span class=\"token\" style=\"color:#393A34\">=</span> name\n    REPO <span class=\"token\" style=\"color:#393A34\">=</span> <span class=\"token\" style=\"color:#A31515\">&quot;&quot;</span></code></pre></div></div><div class=\"sc-bxivhb HLmih cell\" style=\"box-shadow:none\"><div class=\"sc-gzVnrw iiEGBE input-container\"><div class=\"sc-bwzfXH jsVRSS prompt\">[6]</div><pre class=\"sc-bZQynM dQAqiJ input\" style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:0.95em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:10px 0px 10px 10px;margin:0px;overflow:auto;border:none;background-color:var(--cm-background, #fafafa)\"><code style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:0.95em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none\"><span class=\"token\" style=\"color:#008000;font-style:italic\"># whether to use ceph or store locally</span>\n\nuse_ceph <span class=\"token\" style=\"color:#393A34\">=</span> <span class=\"token builtin\">bool</span><span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token builtin\">int</span><span class=\"token\" style=\"color:#393A34\">(</span>os<span class=\"token\" style=\"color:#393A34\">.</span>getenv<span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#A31515\">&#x27;USE_CEPH&#x27;</span><span class=\"token\" style=\"color:#393A34\">)</span><span class=\"token\" style=\"color:#393A34\">)</span><span class=\"token\" style=\"color:#393A34\">)</span>\n\n<span class=\"token\" style=\"color:#0000ff\">if</span> use_ceph<span class=\"token\" style=\"color:#393A34\">:</span>\n    s3_endpoint_url <span class=\"token\" style=\"color:#393A34\">=</span> os<span class=\"token\" style=\"color:#393A34\">.</span>environ<span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token\" style=\"color:#A31515\">&quot;OBJECT_STORAGE_ENDPOINT_URL&quot;</span><span class=\"token\" style=\"color:#393A34\">]</span>\n    s3_access_key <span class=\"token\" style=\"color:#393A34\">=</span> os<span class=\"token\" style=\"color:#393A34\">.</span>environ<span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token\" style=\"color:#A31515\">&quot;AWS_ACCESS_KEY_ID&quot;</span><span class=\"token\" style=\"color:#393A34\">]</span>\n    s3_secret_key <span class=\"token\" style=\"color:#393A34\">=</span> os<span class=\"token\" style=\"color:#393A34\">.</span>environ<span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token\" style=\"color:#A31515\">&quot;AWS_SECRET_ACCESS_KEY&quot;</span><span class=\"token\" style=\"color:#393A34\">]</span>\n    s3_bucket <span class=\"token\" style=\"color:#393A34\">=</span> os<span class=\"token\" style=\"color:#393A34\">.</span>environ<span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token\" style=\"color:#A31515\">&quot;OBJECT_STORAGE_BUCKET_NAME&quot;</span><span class=\"token\" style=\"color:#393A34\">]</span>\n\n    s3 <span class=\"token\" style=\"color:#393A34\">=</span> boto3<span class=\"token\" style=\"color:#393A34\">.</span>client<span class=\"token\" style=\"color:#393A34\">(</span>\n        service_name<span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&quot;s3&quot;</span><span class=\"token\" style=\"color:#393A34\">,</span>\n        aws_access_key_id<span class=\"token\" style=\"color:#393A34\">=</span>s3_access_key<span class=\"token\" style=\"color:#393A34\">,</span>\n        aws_secret_access_key<span class=\"token\" style=\"color:#393A34\">=</span>s3_secret_key<span class=\"token\" style=\"color:#393A34\">,</span>\n        endpoint_url<span class=\"token\" style=\"color:#393A34\">=</span>s3_endpoint_url<span class=\"token\" style=\"color:#393A34\">,</span>\n    <span class=\"token\" style=\"color:#393A34\">)</span></code></pre></div></div><div class=\"sc-bxivhb HLmih cell\" style=\"box-shadow:none\"><div class=\"sc-gzVnrw iiEGBE input-container\"><div class=\"sc-bwzfXH jsVRSS prompt\">[7]</div><pre class=\"sc-bZQynM dQAqiJ input\" style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:0.95em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:10px 0px 10px 10px;margin:0px;overflow:auto;border:none;background-color:var(--cm-background, #fafafa)\"><code style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:0.95em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none\"><span class=\"token\" style=\"color:#008000;font-style:italic\"># add all user&#x27;s repos to list, or create list of one</span>\nrepos_ <span class=\"token\" style=\"color:#393A34\">=</span> <span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token\" style=\"color:#393A34\">]</span>\n\n<span class=\"token\" style=\"color:#0000ff\">if</span> USER<span class=\"token\" style=\"color:#393A34\">:</span>\n    org <span class=\"token\" style=\"color:#393A34\">=</span> g<span class=\"token\" style=\"color:#393A34\">.</span>get_user<span class=\"token\" style=\"color:#393A34\">(</span>USER<span class=\"token\" style=\"color:#393A34\">)</span>\n    repos <span class=\"token\" style=\"color:#393A34\">=</span> org<span class=\"token\" style=\"color:#393A34\">.</span>get_repos<span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#393A34\">)</span>\n    <span class=\"token\" style=\"color:#0000ff\">for</span> repo <span class=\"token\" style=\"color:#0000ff\">in</span> repos<span class=\"token\" style=\"color:#393A34\">:</span>\n        repos_<span class=\"token\" style=\"color:#393A34\">.</span>append<span class=\"token\" style=\"color:#393A34\">(</span>repo<span class=\"token\" style=\"color:#393A34\">)</span>\n<span class=\"token\" style=\"color:#0000ff\">else</span><span class=\"token\" style=\"color:#393A34\">:</span>\n    to_add <span class=\"token\" style=\"color:#393A34\">=</span> g<span class=\"token\" style=\"color:#393A34\">.</span>get_repo<span class=\"token\" style=\"color:#393A34\">(</span>REPO<span class=\"token\" style=\"color:#393A34\">)</span>\n    repos_<span class=\"token\" style=\"color:#393A34\">.</span>append<span class=\"token\" style=\"color:#393A34\">(</span>to_add<span class=\"token\" style=\"color:#393A34\">)</span></code></pre></div></div><div class=\"sc-bxivhb HLmih cell\" style=\"box-shadow:none\"><div class=\"sc-iwsKbI exQuEV markdown\"><h2>Receive New Data</h2></div></div><div class=\"sc-bxivhb HLmih cell\" style=\"box-shadow:none\"><div class=\"sc-iwsKbI exQuEV markdown\"><p>Here we check ceph or local storage if the data for the repo exists. If it does, we load it in. We then use the github access token and pygithub to scrape all data and append it to the current existing dataframe.</p></div></div><div class=\"sc-bxivhb HLmih cell\" style=\"box-shadow:none\"><div class=\"sc-gzVnrw iiEGBE input-container\"><div class=\"sc-bwzfXH jsVRSS prompt\">[8]</div><pre class=\"sc-bZQynM dQAqiJ input\" style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:0.95em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:10px 0px 10px 10px;margin:0px;overflow:auto;border:none;background-color:var(--cm-background, #fafafa)\"><code style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:0.95em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none\"><span class=\"token\" style=\"color:#008000;font-style:italic\"># load dataframe if exists</span>\n\nsavename <span class=\"token\" style=\"color:#393A34\">=</span> USER <span class=\"token\" style=\"color:#0000ff\">if</span> USER <span class=\"token\" style=\"color:#0000ff\">else</span> REPO<span class=\"token\" style=\"color:#393A34\">.</span>replace<span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#A31515\">&quot;/&quot;</span><span class=\"token\" style=\"color:#393A34\">,</span> <span class=\"token\" style=\"color:#A31515\">&quot;-_-&quot;</span><span class=\"token\" style=\"color:#393A34\">)</span>\n\n<span class=\"token\" style=\"color:#0000ff\">if</span> use_ceph<span class=\"token\" style=\"color:#393A34\">:</span>\n    <span class=\"token\" style=\"color:#0000ff\">try</span><span class=\"token\" style=\"color:#393A34\">:</span>\n        key <span class=\"token\" style=\"color:#393A34\">=</span> <span class=\"token string-interpolation\"><span class=\"token\" style=\"color:#A31515\">f&quot;github-labeler/data/</span><span class=\"token interpolation\"><span class=\"token\" style=\"color:#393A34\">{</span>savename<span class=\"token\" style=\"color:#393A34\">}</span></span><span class=\"token\" style=\"color:#A31515\">.csv&quot;</span></span>\n        response <span class=\"token\" style=\"color:#393A34\">=</span> s3<span class=\"token\" style=\"color:#393A34\">.</span>get_object<span class=\"token\" style=\"color:#393A34\">(</span>Bucket<span class=\"token\" style=\"color:#393A34\">=</span>s3_bucket<span class=\"token\" style=\"color:#393A34\">,</span> Key<span class=\"token\" style=\"color:#393A34\">=</span>key<span class=\"token\" style=\"color:#393A34\">)</span>\n        existing_df <span class=\"token\" style=\"color:#393A34\">=</span> pd<span class=\"token\" style=\"color:#393A34\">.</span>read_csv<span class=\"token\" style=\"color:#393A34\">(</span>response<span class=\"token\" style=\"color:#393A34\">.</span>get<span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#A31515\">&quot;Body&quot;</span><span class=\"token\" style=\"color:#393A34\">)</span><span class=\"token\" style=\"color:#393A34\">)</span><span class=\"token\" style=\"color:#393A34\">.</span>drop_duplicates<span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#393A34\">)</span>\n    <span class=\"token\" style=\"color:#0000ff\">except</span> s3<span class=\"token\" style=\"color:#393A34\">.</span>exceptions<span class=\"token\" style=\"color:#393A34\">.</span>NoSuchKey<span class=\"token\" style=\"color:#393A34\">:</span>\n        existing_df <span class=\"token\" style=\"color:#393A34\">=</span> <span class=\"token\" style=\"color:#36acaa\">None</span>\n<span class=\"token\" style=\"color:#0000ff\">else</span><span class=\"token\" style=\"color:#393A34\">:</span>\n    <span class=\"token\" style=\"color:#0000ff\">if</span> os<span class=\"token\" style=\"color:#393A34\">.</span>path<span class=\"token\" style=\"color:#393A34\">.</span>exists<span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token string-interpolation\"><span class=\"token\" style=\"color:#A31515\">f&quot;../../data/</span><span class=\"token interpolation\"><span class=\"token\" style=\"color:#393A34\">{</span>savename<span class=\"token\" style=\"color:#393A34\">}</span></span><span class=\"token\" style=\"color:#A31515\">.csv&quot;</span></span><span class=\"token\" style=\"color:#393A34\">)</span><span class=\"token\" style=\"color:#393A34\">:</span>\n        existing_df <span class=\"token\" style=\"color:#393A34\">=</span> pd<span class=\"token\" style=\"color:#393A34\">.</span>read_csv<span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token string-interpolation\"><span class=\"token\" style=\"color:#A31515\">f&quot;../../data/</span><span class=\"token interpolation\"><span class=\"token\" style=\"color:#393A34\">{</span>savename<span class=\"token\" style=\"color:#393A34\">}</span></span><span class=\"token\" style=\"color:#A31515\">.csv&quot;</span></span><span class=\"token\" style=\"color:#393A34\">)</span>\n    <span class=\"token\" style=\"color:#0000ff\">else</span><span class=\"token\" style=\"color:#393A34\">:</span>\n        existing_df <span class=\"token\" style=\"color:#393A34\">=</span> <span class=\"token\" style=\"color:#36acaa\">None</span></code></pre></div></div><div class=\"sc-bxivhb HLmih cell\" style=\"box-shadow:none\"><div class=\"sc-gzVnrw iiEGBE input-container\"><div class=\"sc-bwzfXH jsVRSS prompt\">[65]</div><pre class=\"sc-bZQynM dQAqiJ input\" style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:0.95em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:10px 0px 10px 10px;margin:0px;overflow:auto;border:none;background-color:var(--cm-background, #fafafa)\"><code style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:0.95em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none\"><span class=\"token\" style=\"color:#0000ff\">def</span> <span class=\"token\" style=\"color:#393A34\">get_issues_for_repo</span><span class=\"token\" style=\"color:#393A34\">(</span>repo<span class=\"token\" style=\"color:#393A34\">,</span> last_issue<span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#36acaa\">None</span><span class=\"token\" style=\"color:#393A34\">)</span><span class=\"token\" style=\"color:#393A34\">:</span>\n    <span class=\"token triple-quoted-string\" style=\"color:#A31515\">&quot;&quot;&quot;\n    takes in a pygithub repo object and returns the list of pygithub issue objects\n    &quot;&quot;&quot;</span>\n    issues <span class=\"token\" style=\"color:#393A34\">=</span> <span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token\" style=\"color:#393A34\">]</span>\n    issues_left <span class=\"token\" style=\"color:#393A34\">=</span> <span class=\"token\" style=\"color:#36acaa\">True</span>\n    max_date <span class=\"token\" style=\"color:#393A34\">=</span> last_issue <span class=\"token\" style=\"color:#0000ff\">if</span> last_issue <span class=\"token\" style=\"color:#0000ff\">is</span> <span class=\"token\" style=\"color:#0000ff\">not</span> <span class=\"token\" style=\"color:#36acaa\">None</span> <span class=\"token\" style=\"color:#0000ff\">else</span> datetime<span class=\"token\" style=\"color:#393A34\">.</span>datetime<span class=\"token\" style=\"color:#393A34\">.</span><span class=\"token builtin\">min</span>\n    <span class=\"token\" style=\"color:#0000ff\">while</span> issues_left<span class=\"token\" style=\"color:#393A34\">:</span>\n        issues_left <span class=\"token\" style=\"color:#393A34\">=</span> <span class=\"token\" style=\"color:#36acaa\">False</span>\n        <span class=\"token\" style=\"color:#0000ff\">try</span><span class=\"token\" style=\"color:#393A34\">:</span>\n            <span class=\"token\" style=\"color:#0000ff\">for</span> issue <span class=\"token\" style=\"color:#0000ff\">in</span> repo<span class=\"token\" style=\"color:#393A34\">.</span>get_issues<span class=\"token\" style=\"color:#393A34\">(</span>state<span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&quot;all&quot;</span><span class=\"token\" style=\"color:#393A34\">,</span> direction<span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&quot;asc&quot;</span><span class=\"token\" style=\"color:#393A34\">,</span> since<span class=\"token\" style=\"color:#393A34\">=</span>max_date<span class=\"token\" style=\"color:#393A34\">)</span><span class=\"token\" style=\"color:#393A34\">:</span>\n                <span class=\"token\" style=\"color:#0000ff\">if</span> issue<span class=\"token\" style=\"color:#393A34\">.</span>created_at <span class=\"token\" style=\"color:#393A34\">&lt;=</span> max_date<span class=\"token\" style=\"color:#393A34\">:</span>\n                    <span class=\"token\" style=\"color:#0000ff\">continue</span>\n                max_date <span class=\"token\" style=\"color:#393A34\">=</span> issue<span class=\"token\" style=\"color:#393A34\">.</span>created_at\n                <span class=\"token\" style=\"color:#0000ff\">if</span> issue<span class=\"token\" style=\"color:#393A34\">.</span>pull_request <span class=\"token\" style=\"color:#0000ff\">is</span> <span class=\"token\" style=\"color:#36acaa\">None</span><span class=\"token\" style=\"color:#393A34\">:</span>\n                    issues<span class=\"token\" style=\"color:#393A34\">.</span>append<span class=\"token\" style=\"color:#393A34\">(</span>issue<span class=\"token\" style=\"color:#393A34\">)</span>\n        <span class=\"token\" style=\"color:#0000ff\">except</span> RateLimitExceededException<span class=\"token\" style=\"color:#393A34\">:</span>\n            <span class=\"token\" style=\"color:#008000;font-style:italic\"># rate limit exception</span>\n            <span class=\"token\" style=\"color:#0000ff\">print</span><span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token builtin\">len</span><span class=\"token\" style=\"color:#393A34\">(</span>issues<span class=\"token\" style=\"color:#393A34\">)</span><span class=\"token\" style=\"color:#393A34\">,</span> <span class=\"token\" style=\"color:#A31515\">&quot;issues added for&quot;</span><span class=\"token\" style=\"color:#393A34\">,</span> <span class=\"token\" style=\"color:#393A34\">{</span>repo<span class=\"token\" style=\"color:#393A34\">.</span>full_name<span class=\"token\" style=\"color:#393A34\">}</span><span class=\"token\" style=\"color:#393A34\">)</span>\n            <span class=\"token\" style=\"color:#0000ff\">print</span><span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#A31515\">&quot;SLEEPING NOW FOR AN HOUR&quot;</span><span class=\"token\" style=\"color:#393A34\">)</span>\n            time<span class=\"token\" style=\"color:#393A34\">.</span>sleep<span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#36acaa\">60</span> <span class=\"token\" style=\"color:#393A34\">*</span> <span class=\"token\" style=\"color:#36acaa\">61</span><span class=\"token\" style=\"color:#393A34\">)</span>\n            issues_left <span class=\"token\" style=\"color:#393A34\">=</span> <span class=\"token\" style=\"color:#36acaa\">True</span>\n    <span class=\"token\" style=\"color:#0000ff\">return</span> issues</code></pre></div></div><div class=\"sc-bxivhb HLmih cell\" style=\"box-shadow:none\"><div class=\"sc-gzVnrw iiEGBE input-container\"><div class=\"sc-bwzfXH jsVRSS prompt\">[66]</div><pre class=\"sc-bZQynM dQAqiJ input\" style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:0.95em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:10px 0px 10px 10px;margin:0px;overflow:auto;border:none;background-color:var(--cm-background, #fafafa)\"><code style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:0.95em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none\"><span class=\"token\" style=\"color:#008000;font-style:italic\"># add in all issues</span>\nall_issues <span class=\"token\" style=\"color:#393A34\">=</span> <span class=\"token\" style=\"color:#393A34\">{</span><span class=\"token\" style=\"color:#393A34\">}</span>\n\n<span class=\"token\" style=\"color:#0000ff\">if</span> existing_df <span class=\"token\" style=\"color:#0000ff\">is</span> <span class=\"token\" style=\"color:#0000ff\">not</span> <span class=\"token\" style=\"color:#36acaa\">None</span><span class=\"token\" style=\"color:#393A34\">:</span>\n    last_date <span class=\"token\" style=\"color:#393A34\">=</span> datetime<span class=\"token\" style=\"color:#393A34\">.</span>datetime<span class=\"token\" style=\"color:#393A34\">.</span>fromisoformat<span class=\"token\" style=\"color:#393A34\">(</span>existing_df<span class=\"token\" style=\"color:#393A34\">.</span>created_at<span class=\"token\" style=\"color:#393A34\">.</span><span class=\"token builtin\">max</span><span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#393A34\">)</span><span class=\"token\" style=\"color:#393A34\">)</span>\n<span class=\"token\" style=\"color:#0000ff\">else</span><span class=\"token\" style=\"color:#393A34\">:</span>\n    last_date <span class=\"token\" style=\"color:#393A34\">=</span> <span class=\"token\" style=\"color:#36acaa\">None</span>\n\n<span class=\"token\" style=\"color:#0000ff\">if</span> USER<span class=\"token\" style=\"color:#393A34\">:</span>\n    <span class=\"token\" style=\"color:#0000ff\">print</span><span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#A31515\">&quot;getting issues for repos&quot;</span><span class=\"token\" style=\"color:#393A34\">)</span>\n    <span class=\"token\" style=\"color:#0000ff\">for</span> repo <span class=\"token\" style=\"color:#0000ff\">in</span> repos_<span class=\"token\" style=\"color:#393A34\">:</span>\n        all_issues<span class=\"token\" style=\"color:#393A34\">[</span>repo<span class=\"token\" style=\"color:#393A34\">.</span>full_name<span class=\"token\" style=\"color:#393A34\">]</span> <span class=\"token\" style=\"color:#393A34\">=</span> get_issues_for_repo<span class=\"token\" style=\"color:#393A34\">(</span>repo<span class=\"token\" style=\"color:#393A34\">,</span> last_date<span class=\"token\" style=\"color:#393A34\">)</span>\n<span class=\"token\" style=\"color:#0000ff\">else</span><span class=\"token\" style=\"color:#393A34\">:</span>\n    repo <span class=\"token\" style=\"color:#393A34\">=</span> repos_<span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token\" style=\"color:#36acaa\">0</span><span class=\"token\" style=\"color:#393A34\">]</span>\n    all_issues<span class=\"token\" style=\"color:#393A34\">[</span>repo<span class=\"token\" style=\"color:#393A34\">.</span>full_name<span class=\"token\" style=\"color:#393A34\">]</span> <span class=\"token\" style=\"color:#393A34\">=</span> get_issues_for_repo<span class=\"token\" style=\"color:#393A34\">(</span>repo<span class=\"token\" style=\"color:#393A34\">,</span> last_date<span class=\"token\" style=\"color:#393A34\">)</span>\n\ntotal_issues <span class=\"token\" style=\"color:#393A34\">=</span> <span class=\"token builtin\">sum</span><span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token builtin\">len</span><span class=\"token\" style=\"color:#393A34\">(</span>b<span class=\"token\" style=\"color:#393A34\">)</span> <span class=\"token\" style=\"color:#0000ff\">for</span> a<span class=\"token\" style=\"color:#393A34\">,</span> b <span class=\"token\" style=\"color:#0000ff\">in</span> all_issues<span class=\"token\" style=\"color:#393A34\">.</span>items<span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#393A34\">)</span><span class=\"token\" style=\"color:#393A34\">]</span><span class=\"token\" style=\"color:#393A34\">)</span>\n<span class=\"token\" style=\"color:#0000ff\">print</span><span class=\"token\" style=\"color:#393A34\">(</span>total_issues<span class=\"token\" style=\"color:#393A34\">,</span> <span class=\"token\" style=\"color:#A31515\">&quot;total issues&quot;</span><span class=\"token\" style=\"color:#393A34\">)</span></code></pre></div><div class=\"sc-htoDjs wOXyQ nteract-outputs\" style=\"max-height:100%\"><div class=\"cell_display\" style=\"max-height:100%;overflow-y:auto\"><code class=\"nteract-display-area-stdout\"><span>2 total issues\n</span></code></div></div></div><div class=\"sc-bxivhb HLmih cell\" style=\"box-shadow:none\"><div class=\"sc-gzVnrw iiEGBE input-container\"><div class=\"sc-bwzfXH jsVRSS prompt\">[70]</div><pre class=\"sc-bZQynM dQAqiJ input\" style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:0.95em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:10px 0px 10px 10px;margin:0px;overflow:auto;border:none;background-color:var(--cm-background, #fafafa)\"><code style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:0.95em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none\"><span class=\"token\" style=\"color:#008000;font-style:italic\"># create a dataframe for issues</span>\n\nissue_data <span class=\"token\" style=\"color:#393A34\">=</span> <span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token\" style=\"color:#393A34\">]</span>\n\n<span class=\"token\" style=\"color:#0000ff\">for</span> repo<span class=\"token\" style=\"color:#393A34\">,</span> issues <span class=\"token\" style=\"color:#0000ff\">in</span> all_issues<span class=\"token\" style=\"color:#393A34\">.</span>items<span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#393A34\">)</span><span class=\"token\" style=\"color:#393A34\">:</span>\n    <span class=\"token\" style=\"color:#0000ff\">for</span> issue <span class=\"token\" style=\"color:#0000ff\">in</span> issues<span class=\"token\" style=\"color:#393A34\">:</span>\n        labels <span class=\"token\" style=\"color:#393A34\">=</span> <span class=\"token\" style=\"color:#393A34\">[</span>lbl<span class=\"token\" style=\"color:#393A34\">.</span>name <span class=\"token\" style=\"color:#0000ff\">for</span> lbl <span class=\"token\" style=\"color:#0000ff\">in</span> issue<span class=\"token\" style=\"color:#393A34\">.</span>labels<span class=\"token\" style=\"color:#393A34\">]</span>\n        label_names <span class=\"token\" style=\"color:#393A34\">=</span> <span class=\"token\" style=\"color:#A31515\">&quot;\\t&quot;</span><span class=\"token\" style=\"color:#393A34\">.</span>join<span class=\"token\" style=\"color:#393A34\">(</span>labels<span class=\"token\" style=\"color:#393A34\">)</span> <span class=\"token\" style=\"color:#0000ff\">if</span> labels <span class=\"token\" style=\"color:#0000ff\">else</span> np<span class=\"token\" style=\"color:#393A34\">.</span>nan\n        id_ <span class=\"token\" style=\"color:#393A34\">=</span> repo <span class=\"token\" style=\"color:#393A34\">+</span> <span class=\"token\" style=\"color:#A31515\">&quot;/&quot;</span> <span class=\"token\" style=\"color:#393A34\">+</span> <span class=\"token builtin\">str</span><span class=\"token\" style=\"color:#393A34\">(</span>issue<span class=\"token\" style=\"color:#393A34\">.</span>number<span class=\"token\" style=\"color:#393A34\">)</span>\n        data <span class=\"token\" style=\"color:#393A34\">=</span> <span class=\"token\" style=\"color:#393A34\">[</span>\n            id_<span class=\"token\" style=\"color:#393A34\">,</span>\n            repo<span class=\"token\" style=\"color:#393A34\">,</span>\n            issue<span class=\"token\" style=\"color:#393A34\">.</span>title<span class=\"token\" style=\"color:#393A34\">,</span>\n            issue<span class=\"token\" style=\"color:#393A34\">.</span>body<span class=\"token\" style=\"color:#393A34\">,</span>\n            issue<span class=\"token\" style=\"color:#393A34\">.</span>created_at<span class=\"token\" style=\"color:#393A34\">,</span>\n            issue<span class=\"token\" style=\"color:#393A34\">.</span>user<span class=\"token\" style=\"color:#393A34\">.</span>login<span class=\"token\" style=\"color:#393A34\">,</span>\n            <span class=\"token builtin\">len</span><span class=\"token\" style=\"color:#393A34\">(</span>labels<span class=\"token\" style=\"color:#393A34\">)</span><span class=\"token\" style=\"color:#393A34\">,</span>\n            label_names<span class=\"token\" style=\"color:#393A34\">,</span>\n        <span class=\"token\" style=\"color:#393A34\">]</span>\n        issue_data<span class=\"token\" style=\"color:#393A34\">.</span>append<span class=\"token\" style=\"color:#393A34\">(</span>data<span class=\"token\" style=\"color:#393A34\">)</span>\ncols <span class=\"token\" style=\"color:#393A34\">=</span> <span class=\"token\" style=\"color:#393A34\">[</span>\n    <span class=\"token\" style=\"color:#A31515\">&quot;id&quot;</span><span class=\"token\" style=\"color:#393A34\">,</span>\n    <span class=\"token\" style=\"color:#A31515\">&quot;repo&quot;</span><span class=\"token\" style=\"color:#393A34\">,</span>\n    <span class=\"token\" style=\"color:#A31515\">&quot;title&quot;</span><span class=\"token\" style=\"color:#393A34\">,</span>\n    <span class=\"token\" style=\"color:#A31515\">&quot;body&quot;</span><span class=\"token\" style=\"color:#393A34\">,</span>\n    <span class=\"token\" style=\"color:#A31515\">&quot;created_at&quot;</span><span class=\"token\" style=\"color:#393A34\">,</span>\n    <span class=\"token\" style=\"color:#A31515\">&quot;created_by&quot;</span><span class=\"token\" style=\"color:#393A34\">,</span>\n    <span class=\"token\" style=\"color:#A31515\">&quot;num_labels&quot;</span><span class=\"token\" style=\"color:#393A34\">,</span>\n    <span class=\"token\" style=\"color:#A31515\">&quot;labels&quot;</span><span class=\"token\" style=\"color:#393A34\">,</span>\n<span class=\"token\" style=\"color:#393A34\">]</span>\n\n<span class=\"token\" style=\"color:#0000ff\">if</span> existing_df <span class=\"token\" style=\"color:#0000ff\">is</span> <span class=\"token\" style=\"color:#0000ff\">not</span> <span class=\"token\" style=\"color:#36acaa\">None</span><span class=\"token\" style=\"color:#393A34\">:</span>\n    issues_df <span class=\"token\" style=\"color:#393A34\">=</span> pd<span class=\"token\" style=\"color:#393A34\">.</span>concat<span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#393A34\">[</span>existing_df<span class=\"token\" style=\"color:#393A34\">,</span> pd<span class=\"token\" style=\"color:#393A34\">.</span>DataFrame<span class=\"token\" style=\"color:#393A34\">(</span>issue_data<span class=\"token\" style=\"color:#393A34\">,</span> columns<span class=\"token\" style=\"color:#393A34\">=</span>cols<span class=\"token\" style=\"color:#393A34\">)</span><span class=\"token\" style=\"color:#393A34\">]</span><span class=\"token\" style=\"color:#393A34\">)</span>\n\n<span class=\"token\" style=\"color:#0000ff\">else</span><span class=\"token\" style=\"color:#393A34\">:</span>\n    issues_df <span class=\"token\" style=\"color:#393A34\">=</span> pd<span class=\"token\" style=\"color:#393A34\">.</span>DataFrame<span class=\"token\" style=\"color:#393A34\">(</span>issue_data<span class=\"token\" style=\"color:#393A34\">,</span> columns<span class=\"token\" style=\"color:#393A34\">=</span>cols<span class=\"token\" style=\"color:#393A34\">)</span></code></pre></div></div><div class=\"sc-bxivhb HLmih cell\" style=\"box-shadow:none\"><div class=\"sc-iwsKbI exQuEV markdown\"><h2>EDA and Saving</h2></div></div><div class=\"sc-bxivhb HLmih cell\" style=\"box-shadow:none\"><div class=\"sc-iwsKbI exQuEV markdown\"><p>We do a little EDA on the issues and their labels and creators, then save the dataframe to a csv. We save it under the name {savename}.csv.</p></div></div><div class=\"sc-bxivhb HLmih cell\" style=\"box-shadow:none\"><div class=\"sc-gzVnrw iiEGBE input-container\"><div class=\"sc-bwzfXH jsVRSS prompt\">[72]</div><pre class=\"sc-bZQynM dQAqiJ input\" style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:0.95em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:10px 0px 10px 10px;margin:0px;overflow:auto;border:none;background-color:var(--cm-background, #fafafa)\"><code style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:0.95em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none\"><span class=\"token\" style=\"color:#008000;font-style:italic\"># show issues dataframe</span>\nissues_df<span class=\"token\" style=\"color:#393A34\">.</span>sample<span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#36acaa\">5</span><span class=\"token\" style=\"color:#393A34\">)</span></code></pre></div><div class=\"sc-htoDjs wOXyQ nteract-outputs\" style=\"max-height:100%\"><div class=\"cell_display\" style=\"max-height:100%;overflow-y:auto\"><div><div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>id</th>\n      <th>repo</th>\n      <th>title</th>\n      <th>body</th>\n      <th>created_at</th>\n      <th>created_by</th>\n      <th>num_labels</th>\n      <th>labels</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>8145</th>\n      <td>openshift/origin/17781</td>\n      <td>openshift/origin</td>\n      <td>TestProjectRequestError</td>\n      <td>https://openshift-gce-devel.appspot.com/build/...</td>\n      <td>2017-12-14 13:22:07</td>\n      <td>kargakis</td>\n      <td>3</td>\n      <td>priority/P2\\tarea/tests\\tsig/master</td>\n    </tr>\n    <tr>\n      <th>4337</th>\n      <td>openshift/origin/11161</td>\n      <td>openshift/origin</td>\n      <td>Make verify fails with \"Swagger spec out of date\"</td>\n      <td>Jenkins (and Travis) tests keep failing with `...</td>\n      <td>2016-09-29 17:08:53</td>\n      <td>juanvallejo</td>\n      <td>1</td>\n      <td>kind/test-flake</td>\n    </tr>\n    <tr>\n      <th>5693</th>\n      <td>openshift/origin/11859</td>\n      <td>openshift/origin</td>\n      <td>oc cluster up fails to install metrics</td>\n      <td>There has been a change in origin metrics wher...</td>\n      <td>2016-11-09 21:55:02</td>\n      <td>mwringe</td>\n      <td>4</td>\n      <td>area/usability\\tpriority/P2\\tcomponent/composi...</td>\n    </tr>\n    <tr>\n      <th>3683</th>\n      <td>openshift/origin/9434</td>\n      <td>openshift/origin</td>\n      <td>Update custom errors for deployment controller...</td>\n      <td>@deads2k @mfojtik \\n</td>\n      <td>2016-06-20 12:45:10</td>\n      <td>kargakis</td>\n      <td>4</td>\n      <td>priority/P3\\tcomponent/apps\\thelp wanted\\tlife...</td>\n    </tr>\n    <tr>\n      <th>4288</th>\n      <td>openshift/origin/11042</td>\n      <td>openshift/origin</td>\n      <td>Source pod ip is not preserved when contacting...</td>\n      <td>A kube e2e test was added to validate preserva...</td>\n      <td>2016-09-21 15:08:47</td>\n      <td>marun</td>\n      <td>4</td>\n      <td>priority/P3\\tcomponent/networking\\tarea/techde...</td>\n    </tr>\n  </tbody>\n</table>\n</div></div></div></div></div><div class=\"sc-bxivhb HLmih cell\" style=\"box-shadow:none\"><div class=\"sc-gzVnrw iiEGBE input-container\"><div class=\"sc-bwzfXH jsVRSS prompt\">[11]</div><pre class=\"sc-bZQynM dQAqiJ input\" style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:0.95em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:10px 0px 10px 10px;margin:0px;overflow:auto;border:none;background-color:var(--cm-background, #fafafa)\"><code style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:0.95em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none\"><span class=\"token\" style=\"color:#008000;font-style:italic\"># view most common labels</span>\n\nlabel_lst <span class=\"token\" style=\"color:#393A34\">=</span> <span class=\"token builtin\">list</span><span class=\"token\" style=\"color:#393A34\">(</span>\n    itertools<span class=\"token\" style=\"color:#393A34\">.</span>chain<span class=\"token\" style=\"color:#393A34\">.</span>from_iterable<span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#393A34\">[</span>ls<span class=\"token\" style=\"color:#393A34\">.</span>split<span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#A31515\">&quot;\\t&quot;</span><span class=\"token\" style=\"color:#393A34\">)</span> <span class=\"token\" style=\"color:#0000ff\">for</span> ls <span class=\"token\" style=\"color:#0000ff\">in</span> issues_df<span class=\"token\" style=\"color:#393A34\">.</span>labels<span class=\"token\" style=\"color:#393A34\">.</span>dropna<span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#393A34\">)</span><span class=\"token\" style=\"color:#393A34\">]</span><span class=\"token\" style=\"color:#393A34\">)</span>\n<span class=\"token\" style=\"color:#393A34\">)</span>\ncounter <span class=\"token\" style=\"color:#393A34\">=</span> collections<span class=\"token\" style=\"color:#393A34\">.</span>Counter<span class=\"token\" style=\"color:#393A34\">(</span>label_lst<span class=\"token\" style=\"color:#393A34\">)</span>\n\ncounter<span class=\"token\" style=\"color:#393A34\">.</span>most_common<span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#36acaa\">20</span><span class=\"token\" style=\"color:#393A34\">)</span></code></pre></div><div class=\"sc-htoDjs wOXyQ nteract-outputs\" style=\"max-height:100%\"><div class=\"cell_display\" style=\"max-height:100%;overflow-y:auto\"><pre><code><span>[(&#x27;question&#x27;, 1178),\n (&#x27;needs triage&#x27;, 987),\n (&#x27;stale&#x27;, 463),\n (&#x27;bug&#x27;, 401),\n (&#x27;enhancement&#x27;, 167),\n (&#x27;help wanted&#x27;, 146),\n (&#x27;documentation&#x27;, 85),\n (&#x27;speech-to-text&#x27;, 42),\n (&#x27;windows&#x27;, 26),\n (&#x27;unable to repro&#x27;, 26),\n (&#x27;wav2vec&#x27;, 9),\n (&#x27;BART/mBART&#x27;, 4),\n (&#x27;cleanup&#x27;, 3),\n (&#x27;0.10.2&#x27;, 2),\n (&#x27;M2M-100&#x27;, 2),\n (&#x27;LayerDrop&#x27;, 1),\n (&#x27;python3.9&#x27;, 1),\n (&#x27;translation&#x27;, 1),\n (&#x27;paraphraser&#x27;, 1),\n (&#x27;DynamicConv/LightConv&#x27;, 1)]</span></code></pre></div></div></div><div class=\"sc-bxivhb HLmih cell\" style=\"box-shadow:none\"><div class=\"sc-gzVnrw iiEGBE input-container\"><div class=\"sc-bwzfXH jsVRSS prompt\">[12]</div><pre class=\"sc-bZQynM dQAqiJ input\" style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:0.95em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:10px 0px 10px 10px;margin:0px;overflow:auto;border:none;background-color:var(--cm-background, #fafafa)\"><code style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:0.95em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none\"><span class=\"token\" style=\"color:#008000;font-style:italic\"># view most common issue creators</span>\n\nissues_df<span class=\"token\" style=\"color:#393A34\">.</span>created_by<span class=\"token\" style=\"color:#393A34\">.</span>value_counts<span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#393A34\">)</span><span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token\" style=\"color:#393A34\">:</span><span class=\"token\" style=\"color:#36acaa\">20</span><span class=\"token\" style=\"color:#393A34\">]</span></code></pre></div><div class=\"sc-htoDjs wOXyQ nteract-outputs\" style=\"max-height:100%\"><div class=\"cell_display\" style=\"max-height:100%;overflow-y:auto\"><pre><code><span>shamanez          31\nerip              27\ngaopengcuhk       20\najesujoba         20\nastariul          18\nnicolabertoldi    17\ntravel-go         16\ntuhinjubcse       16\nmunael            16\ngvskalyan         15\nvillmow           15\nMrityunjoyS       14\ngetao             14\naastha19          13\nhaorannlp         13\nghost             13\n14H034160212      13\nismymajia         12\nlouismartin       11\nsshleifer         11\nName: created_by, dtype: int64</span></code></pre></div></div></div><div class=\"sc-bxivhb HLmih cell\" style=\"box-shadow:none\"><div class=\"sc-gzVnrw iiEGBE input-container\"><div class=\"sc-bwzfXH jsVRSS prompt\">[13]</div><pre class=\"sc-bZQynM dQAqiJ input\" style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:0.95em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:10px 0px 10px 10px;margin:0px;overflow:auto;border:none;background-color:var(--cm-background, #fafafa)\"><code style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:0.95em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none\"><span class=\"token\" style=\"color:#008000;font-style:italic\"># view distribution of the number of issues in a label</span>\n\nax <span class=\"token\" style=\"color:#393A34\">=</span> sns<span class=\"token\" style=\"color:#393A34\">.</span>histplot<span class=\"token\" style=\"color:#393A34\">(</span>issues_df<span class=\"token\" style=\"color:#393A34\">.</span>num_labels<span class=\"token\" style=\"color:#393A34\">,</span> bins<span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token builtin\">int</span><span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token builtin\">max</span><span class=\"token\" style=\"color:#393A34\">(</span>issues_df<span class=\"token\" style=\"color:#393A34\">.</span>num_labels<span class=\"token\" style=\"color:#393A34\">)</span><span class=\"token\" style=\"color:#393A34\">)</span><span class=\"token\" style=\"color:#393A34\">)</span>\nax<span class=\"token\" style=\"color:#393A34\">.</span>set_xlim<span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#36acaa\">0</span><span class=\"token\" style=\"color:#393A34\">,</span> <span class=\"token\" style=\"color:#36acaa\">6</span><span class=\"token\" style=\"color:#393A34\">)</span><span class=\"token\" style=\"color:#393A34\">)</span></code></pre></div><div class=\"sc-htoDjs wOXyQ nteract-outputs\" style=\"max-height:100%\"><div class=\"cell_display\" style=\"max-height:100%;overflow-y:auto\"><pre><code><span>(0.0, 6.0)</span></code></pre><img alt=\"\" src=\"data:image/png;base64,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\n\" class=\"sc-bdVaJa jFcqvn\"/></div></div></div><div class=\"sc-bxivhb HLmih cell\" style=\"box-shadow:none\"><div class=\"sc-gzVnrw iiEGBE input-container\"><div class=\"sc-bwzfXH jsVRSS prompt\">[14]</div><pre class=\"sc-bZQynM dQAqiJ input\" style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:0.95em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:10px 0px 10px 10px;margin:0px;overflow:auto;border:none;background-color:var(--cm-background, #fafafa)\"><code style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:0.95em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none\"><span class=\"token\" style=\"color:#008000;font-style:italic\"># save dataframe</span>\nsavename <span class=\"token\" style=\"color:#393A34\">=</span> USER <span class=\"token\" style=\"color:#0000ff\">if</span> USER <span class=\"token\" style=\"color:#0000ff\">else</span> REPO<span class=\"token\" style=\"color:#393A34\">.</span>replace<span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#A31515\">&quot;/&quot;</span><span class=\"token\" style=\"color:#393A34\">,</span> <span class=\"token\" style=\"color:#A31515\">&quot;-_-&quot;</span><span class=\"token\" style=\"color:#393A34\">)</span>\n\n<span class=\"token\" style=\"color:#0000ff\">if</span> use_ceph<span class=\"token\" style=\"color:#393A34\">:</span>\n    <span class=\"token\" style=\"color:#0000ff\">with</span> io<span class=\"token\" style=\"color:#393A34\">.</span>StringIO<span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#393A34\">)</span> <span class=\"token\" style=\"color:#0000ff\">as</span> csv_buffer<span class=\"token\" style=\"color:#393A34\">:</span>\n        issues_df<span class=\"token\" style=\"color:#393A34\">.</span>to_csv<span class=\"token\" style=\"color:#393A34\">(</span>csv_buffer<span class=\"token\" style=\"color:#393A34\">,</span> index<span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#36acaa\">False</span><span class=\"token\" style=\"color:#393A34\">)</span>\n\n        response <span class=\"token\" style=\"color:#393A34\">=</span> s3<span class=\"token\" style=\"color:#393A34\">.</span>put_object<span class=\"token\" style=\"color:#393A34\">(</span>\n            Bucket<span class=\"token\" style=\"color:#393A34\">=</span>s3_bucket<span class=\"token\" style=\"color:#393A34\">,</span>\n            Key<span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token string-interpolation\"><span class=\"token\" style=\"color:#A31515\">f&quot;github-labeler/data/</span><span class=\"token interpolation\"><span class=\"token\" style=\"color:#393A34\">{</span>savename<span class=\"token\" style=\"color:#393A34\">}</span></span><span class=\"token\" style=\"color:#A31515\">.csv&quot;</span></span><span class=\"token\" style=\"color:#393A34\">,</span>\n            Body<span class=\"token\" style=\"color:#393A34\">=</span>csv_buffer<span class=\"token\" style=\"color:#393A34\">.</span>getvalue<span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#393A34\">)</span><span class=\"token\" style=\"color:#393A34\">,</span>\n        <span class=\"token\" style=\"color:#393A34\">)</span>\n<span class=\"token\" style=\"color:#0000ff\">else</span><span class=\"token\" style=\"color:#393A34\">:</span>\n    issues_df<span class=\"token\" style=\"color:#393A34\">.</span>to_csv<span class=\"token\" style=\"color:#393A34\">(</span>os<span class=\"token\" style=\"color:#393A34\">.</span>path<span class=\"token\" style=\"color:#393A34\">.</span>join<span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#A31515\">&quot;../../data&quot;</span><span class=\"token\" style=\"color:#393A34\">,</span> savename <span class=\"token\" style=\"color:#393A34\">+</span> <span class=\"token\" style=\"color:#A31515\">&quot;.csv&quot;</span><span class=\"token\" style=\"color:#393A34\">)</span><span class=\"token\" style=\"color:#393A34\">,</span> index<span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#36acaa\">None</span><span class=\"token\" style=\"color:#393A34\">)</span></code></pre></div></div></div></div>","fields":{"srcLink":"https://github.com/aicoe-aiops/github-labeler/blob/master/src/data/issue_extraction.ipynb"}}},"pageContext":{"id":"910f1fb1-5a11-5d37-82f6-dd23aba2f2cd >>> JupyterNotebook"}},"staticQueryHashes":["1764348645","2823140819","3000541721","3606484676"]}