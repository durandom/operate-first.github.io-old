{"componentChunkName":"component---src-templates-markdown-remark-js","path":"/data-science/cloud-price-analysis/src/CloudCostOptimizer (CCO)/README.md","result":{"data":{"site":{"siteMetadata":{"title":"Operate First"}},"markdownRemark":{"id":"1b22c8d9-3a72-52df-9acd-34d0dfc22d6f","html":"<h1 id=\"cloud-cost-optimizer\" style=\"position:relative;\"><a href=\"#cloud-cost-optimizer\" aria-label=\"cloud cost optimizer permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Cloud Cost Optimizer</h1>\n<p>The goal of this project is to design and implement a scalable multi-cloud cost optimizer capable of calculating the best scheme for deploying a given arbitrary complex workload over a public (hybrid) cloud, thus reducing the involved monetary costs.\nAs an input, the optimizer receives the specification of the desired workload. It includes the resource requirements for each of the components comprising the workload, the connections between the components, and additional constraints. CCO analyzes this specification and calculates the mapping of the workload components to cloud resources (VM instances) that minimizes the expected monetary cost of deploying the application over a public cloud. This operation could be performed over a given single cloud provider (e.g., AWS) or over a set of cloud providers by splitting the workload over multiple clouds in accordance with the hybrid cloud paradigm.\nThe optimization problem to be solved by CCO is increasingly complex due to a combination of: (1) its inherently convoluted structure - each workload component must be allocated to some cloud resource and the number of ways they can share a resource is exponential; and (2) the multitude of parameters - for instance, AWS provides over 9000 combinations of a VM instance type, region, and operating system. To overcome the combinatorial hardness of the problem, our optimizer utilizes a combination of metaheuristics including Tabu search and simulated annealing.\nThe currently available version of the optimizer supports AWS and Azure. An intuitive and well-documented plugin interface makes it possible to easily support additional public clouds. CCO fully supports both on-demand / pay-as-you-go and spot instances, with the latter option allowing customers to save up to 90% in the instance cost. The tool can be used via a web-based UI and an API.\nWhile the fully functional version of CCO is already available for use, there is no shortage of possible extensions and further improvements. To list a few examples, we are planning to replace a metaheuristic-based optimization algorithm with a reinforcement learning approach; to support planning ahead-of-time by predicting future prices of instances based on the market situation; to predict future interruption rates of spot instances and factor them in the calculations performed by CCO.</p>\n<p>For further information:</p>\n<ul class=\"pf-c-list\">\n<li><a href=\"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/concepts.html\">AWS EC2</a></li>\n<li><a href=\"https://aws.amazon.com/ec2/spot/\">AWS Spot Instances</a></li>\n<li><a href=\"https://azure.microsoft.com/en-us/\">Azure VMs</a></li>\n<li><a href=\"https://azure.microsoft.com/en-us/services/virtual-machines/spot/#features\">Azure Spot Virtual Macines</a></li>\n<li><a href=\"https://cloud.google.com/learn/what-is-hybrid-cloud\">Hybrid Cloud</a></li>\n</ul>\n<h2 id=\"getting-started\" style=\"position:relative;\"><a href=\"#getting-started\" aria-label=\"getting started permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Getting Started</h2>\n<p>To start using The Cloud Cost Optimizer, please <em>clone</em> this git repository:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">git clone https://github.com/aicoe-aiops/cloud-price-analysis-public.git</code></pre></div>\n<h3 id=\"prerequisites\" style=\"position:relative;\"><a href=\"#prerequisites\" aria-label=\"prerequisites permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Prerequisites</h3>\n<ul class=\"pf-c-list\">\n<li>The Cloud Cost Optimizer requires Python3- Python 3.4 or newer installed. You can check the version by typing <code class=\"language-text\">python3 --version</code> in your command line.</li>\n<li>You can download the latest Python version from <a href=\"https://www.python.org/downloads/\">here</a>.</li>\n</ul>\n<h3 id=\"installation\" style=\"position:relative;\"><a href=\"#installation\" aria-label=\"installation permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Installation</h3>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ python3 -m pip install requests\n$ pip3 install urllib3\n$ pip3 install grequests\n$ pip3 install numpy\n$ pip3 install boto3</code></pre></div>\n<h3 id=\"usage\" style=\"position:relative;\"><a href=\"#usage\" aria-label=\"usage permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Usage</h3>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ python3 CCO.py</code></pre></div>\n<p>Where the following command activate the Optimizer</p>\n<h2 id=\"parameters\" style=\"position:relative;\"><a href=\"#parameters\" aria-label=\"parameters permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Parameters</h2>\n<p>The file <strong>input_fleet.json</strong> is an example of an input (see input<em>fleet</em>instructions.json for further information).\nThe user’s workload should be in the <strong>input_fleet.json</strong> file- <strong>don’t forget to change it according to your needs.</strong></p>\n<h4 id=\"example-of-an-input-json-file\" style=\"position:relative;\"><a href=\"#example-of-an-input-json-file\" aria-label=\"example of an input json file permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Example of an input json file:</h4>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">{\n    &quot;selectedOs&quot;: &quot;linux&quot;,\n    &quot;spot/onDemand&quot;: &quot;spot&quot;,\n    &quot;region&quot;: [&quot;eu-south-1&quot;, &quot;eu-west-3&quot;, &quot;us-east-2&quot;,&quot;us-east-1&quot;],\n    &quot;filterInstances&quot;: [&quot;a1&quot;,&quot;t3a&quot;,&quot;c5a.xlarge&quot;],\n    &quot;Architecture&quot;: &quot;all&quot;,\n    &quot;apps&quot;: [\n        {\n            &quot;app&quot;: &quot;App1&quot;,\n            &quot;share&quot;: true,\n            &quot;components&quot;: [\n                {\n                    &quot;memory&quot;: 8,\n                    &quot;vCPUs&quot;: 4,\n                    &quot;network&quot;: 5,\n                    &quot;behavior&quot;: &quot;terminate&quot;,\n                    &quot;frequency&quot;: &quot;2&quot;,\n                    &quot;storageType&quot;: null,\n                    &quot;affinity&quot;: &quot;Comp2&quot;,\n                    &quot;name&quot;: &quot;Comp1&quot;,\n                },\n                {\n                    &quot;memory&quot;: 8,\n                    &quot;vCPUs&quot;: 3,\n                    &quot;network&quot;: 0,\n                    &quot;behavior&quot;: &quot;hibernate&quot;,\n                    &quot;frequency&quot;: &quot;3&quot;,\n                    &quot;storageType&quot;: null,\n                    &quot;burstable&quot;: true,\n                    &quot;anti-affinity&quot;: &quot;Comp3&quot;,\n                    &quot;name&quot;: &quot;comp2&quot;\n                },\n                                {\n                    &quot;memory&quot;: 8,\n                    &quot;vCPUs&quot;: 3,\n                    &quot;network&quot;: 0,\n                    &quot;behavior&quot;: &quot;hibernate&quot;,\n                    &quot;frequency&quot;: &quot;3&quot;,\n                    &quot;storageType&quot;: null,\n                    &quot;burstable&quot;: true,\n                    &quot;name&quot;: &quot;comp5&quot;\n                }\n            ]\n        },\n        {\n            &quot;app&quot;: &quot;App2&quot;,\n            &quot;share&quot;: false,\n            &quot;components&quot;: [\n                {\n                    &quot;memory&quot;: 10,\n                    &quot;vCPUs&quot;: 5,\n                    &quot;network&quot;: 0,\n                    &quot;behavior&quot;: &quot;stop&quot;,\n                    &quot;frequency&quot;: &quot;4&quot;,\n                    &quot;storageType&quot;: null,\n                    &quot;burstable&quot;: true,\n                    &quot;name&quot;: &quot;Comp3&quot;\n                }\n            ]\n        }\n    ]\n}</code></pre></div>\n<p>Where we can see an input of two Applications (App1, App2), which uses linux as their Operation System.\nApp1 includes three components (Comp1, Comp2, Comp5), and App2 includes only one component (Comp3). each component\nhas different resource requirements, which described by their memory, vCPUs etc…</p>\n<h3 id=\"general-parameters\" style=\"position:relative;\"><a href=\"#general-parameters\" aria-label=\"general parameters permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>General parameters:</h3>\n<h4 id=\"required-parameters\" style=\"position:relative;\"><a href=\"#required-parameters\" aria-label=\"required parameters permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Required parameters:</h4>\n<ul class=\"pf-c-list\">\n<li>selectedOs - operating system (OS) for the workloads</li>\n<li>\n<p>spot/onDemand - choose instances pricing option- <strong>spot / on-Demand</strong></p>\n<h4 id=\"optional-parameters\" style=\"position:relative;\"><a href=\"#optional-parameters\" aria-label=\"optional parameters permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Optional parameters:</h4>\n</li>\n<li>\n<p>Region - used if a specific region is required, otherwise, searches in all regions.</p>\n<ul class=\"pf-c-list\">\n<li>region defined as “all”- to look for the best configuration, in all regions</li>\n<li>region defined as specific region, for example “us-east-2”- to look for the best configuration only in us-east-2</li>\n<li>region defined as list of multiple regions- [“eu-west-1”,“eu-east-2”,“sa-east-1”]- to look for the best configuration in these regions</li>\n</ul>\n</li>\n<li>filterInstances - used if specific instance types (major, minor or instance type) should not be displayed by Optimizer- for example, if major type a1, and instance type c5.large are not relevant, insert- filterInstances: [“a1”,“c5.large”]</li>\n<li>Architecture - processor architecture, can be selected as- ‘all’ / ‘x86<em>64’ (64-bit x86) / ‘arm64’ (64-bit arm) / ‘i386’ (32-bit) / ‘x86</em>64_mac’ (64-bit mac)</li>\n<li>\n<p>AvailabilityZone - used if specific AZ is required</p>\n<h3 id=\"app-parameters\" style=\"position:relative;\"><a href=\"#app-parameters\" aria-label=\"app parameters permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>App parameters:</h3>\n<h5 id=\"required-parameters-1\" style=\"position:relative;\"><a href=\"#required-parameters-1\" aria-label=\"required parameters 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Required parameters:</h5>\n</li>\n<li>app - name of app</li>\n<li>\n<p>share - boolean parameter, indicates if the app can share instances with different apps</p>\n<h3 id=\"component-parameters\" style=\"position:relative;\"><a href=\"#component-parameters\" aria-label=\"component parameters permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Component parameters:</h3>\n<h5 id=\"required-parameters-2\" style=\"position:relative;\"><a href=\"#required-parameters-2\" aria-label=\"required parameters 2 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Required parameters:</h5>\n</li>\n<li>name - The name of the component</li>\n<li>memory - Min Memory (GB) size required in the instance</li>\n<li>\n<p>vCPUs - Min number of vCPUs (virtual CPUs) required in the instance</p>\n<h5 id=\"optional-parameters-1\" style=\"position:relative;\"><a href=\"#optional-parameters-1\" aria-label=\"optional parameters 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Optional parameters:</h5>\n</li>\n<li>affinity - An affinity rule places a group of virtual machines on a specific Instance</li>\n<li>anti-affinity - An anti-affinity rule places a group of virtual machines on a different Instance</li>\n<li>type - required instance type [“General Purpose”,“Compute Optimized”,“Memory Optimized”,“Media Accelerator Instances”,“Storage Optimized”,“GPU Instances”]</li>\n<li>behavior- Displays only instances meeting a specific Interruption Behavior criteria (stop / hibernate / terminate) - <em>in case of using Spot instances.</em></li>\n<li>frequency- Represents the rate at which Spot will be reclaimed capacity (0- <em>&#x3C; 5%</em>,1- <em>5-10%</em>,2- <em>10-15%</em>,3- <em>15-20%</em>, 4- <em>>20%</em>) - <em>in case of using Spot instances.</em></li>\n<li>typeMajor - Used when specific instance types are required. For example, when only C5, R5, A1 are supported- insert “typeMajor”: [“c5”, “r5”, “a1”]</li>\n<li>Category - Specifies the instance category- General Purpose, Compute Optimized, Memory Optimized, Media Accelerator Instance, Storage Optimized, GPU instance.</li>\n<li>network - required network capacity (Gbs)</li>\n<li>size - Min storage size (GB)</li>\n<li>iops - Max IOPS (MiB I/O) per volume.</li>\n<li>throughput - Max throughput (MiB/s) per volume.</li>\n</ul>\n<h3 id=\"configuration-file\" style=\"position:relative;\"><a href=\"#configuration-file\" aria-label=\"configuration file permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Configuration file:</h3>\n<p>A configuration file with advanced settings is provided to the user, which allows him to edit default settings according to his preferences.</p>\n<h4 id=\"example-of-a-configuration-file\" style=\"position:relative;\"><a href=\"#example-of-a-configuration-file\" aria-label=\"example of a configuration file permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Example of a Configuration file:</h4>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">{\n    &quot;Data Extraction (always / onceAday)&quot;: &quot;onceAday&quot;,\n    &quot;boto3 (enable / disable)&quot;: &quot;disable&quot;,\n    &quot;Provider (AWS / Azure / Hybrid)&quot;: &quot;AWS&quot;,\n    &quot;Brute Force&quot;: &quot;False&quot;,\n    &quot;Time per region&quot;: 1,\n    &quot;Candidate list size&quot;: 100,\n    &quot;Proportion amount node/sons&quot;: 0.0005,\n    &quot;Verbose&quot;: &quot;True&quot;\n}</code></pre></div>\n<ul class=\"pf-c-list\">\n<li>\n<p>When using Brute Force (marked as “True”), other parameters are irrelevant (Time per region,Candidate list size, * When using Brute Force (marked as “True”), other parameters are irrelevant (Time per region, Candidate list size, Proportion amount node/sons).</p>\n<h4 id=\"configuration-parameters\" style=\"position:relative;\"><a href=\"#configuration-parameters\" aria-label=\"configuration parameters permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Configuration Parameters</h4>\n</li>\n<li>Data Extraction- The frequency with which the data will be extracted</li>\n<li>boto3- Do the information retrieval using <a href=\"https://boto3.amazonaws.com/v1/documentation/api/latest/index.html\">boto3</a>. Note that in the case of enable, the data extraction process will be slower</li>\n<li>Provider- which cloud provider should be supported</li>\n<li>Brute Force- boolean parameter, indicates if the CCO should use BF In order to find the optimal solution, or not. Note that this algorithm suitable for less than 7 components. Otherwise, use Local Search Algorithm (explained below)</li>\n<li><a href=\"#hyperParameter\">Other Parameters are hyperparameters</a> for the <a href=\"#local-search-algorithm-description\">Local Search algorithm</a></li>\n</ul>\n<h2 id=\"results\" style=\"position:relative;\"><a href=\"#results\" aria-label=\"results permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Results</h2>\n<p>The output of the Optimizer is a json file containing  a list of configurations. Each configuration represents an assignment of all application components to AWS instances.</p>\n<h3 id=\"example-of-the-api--best-result-only\" style=\"position:relative;\"><a href=\"#example-of-the-api--best-result-only\" aria-label=\"example of the api  best result only permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Example of the API- Best Result Only:</h3>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">[\n    {\n        &quot;price&quot;: 0.275,\n        &quot;instances&quot;: [\n            {\n                &quot;onDemandPrice&quot;: 0.204,\n                &quot;region&quot;: &quot;us-east-2&quot;,\n                &quot;cpu&quot;: &quot;8&quot;,\n                &quot;ebsOnly&quot;: true,\n                &quot;family&quot;: &quot;General purpose&quot;,\n                &quot;memory&quot;: &quot;16&quot;,\n                &quot;network&quot;: &quot;Up to 10 Gigabit&quot;,\n                &quot;os&quot;: &quot;Linux&quot;,\n                &quot;typeMajor&quot;: &quot;a1&quot;,\n                &quot;typeMinor&quot;: &quot;2xlarge&quot;,\n                &quot;storage&quot;: &quot;EBS only&quot;,\n                &quot;typeName&quot;: &quot;a1.2xlarge&quot;,\n                &quot;discount&quot;: 81,\n                &quot;interruption_frequency&quot;: &quot;&lt;20%&quot;,\n                &quot;interruption_frequency_filter&quot;: 4.0,\n                &quot;spot_price&quot;: 0.0394,\n                &quot;Price_per_CPU&quot;: 0.004925,\n                &quot;Price_per_memory&quot;: 0.0024625,\n                &quot;components&quot;: [\n                    {\n                        &quot;appName&quot;: &quot;App2&quot;,\n                        &quot;componentName&quot;: &quot;Comp3&quot;\n                    }\n                ]\n            },\n            {\n                &quot;onDemandPrice&quot;: 0.344,\n                &quot;region&quot;: &quot;us-east-2&quot;,\n                &quot;cpu&quot;: &quot;8&quot;,\n                &quot;ebsOnly&quot;: false,\n                &quot;family&quot;: &quot;Compute optimized&quot;,\n                &quot;memory&quot;: &quot;16&quot;,\n                &quot;network&quot;: &quot;Up to 10 Gigabit&quot;,\n                &quot;os&quot;: &quot;Linux&quot;,\n                &quot;typeMajor&quot;: &quot;c5ad&quot;,\n                &quot;typeMinor&quot;: &quot;2xlarge&quot;,\n                &quot;storage&quot;: &quot;1 x 300 NVMe SSD&quot;,\n                &quot;typeName&quot;: &quot;c5ad.2xlarge&quot;,\n                &quot;discount&quot;: 78,\n                &quot;interruption_frequency&quot;: &quot;&lt;5%&quot;,\n                &quot;interruption_frequency_filter&quot;: 0.0,\n                &quot;spot_price&quot;: 0.076,\n                &quot;Price_per_CPU&quot;: 0.0095,\n                &quot;Price_per_memory&quot;: 0.00475,\n                &quot;components&quot;: [\n                    {\n                        &quot;appName&quot;: &quot;App3&quot;,\n                        &quot;componentName&quot;: &quot;Comp4&quot;\n                    }\n                ]\n            },\n            {\n                &quot;onDemandPrice&quot;: 0.6912,\n                &quot;region&quot;: &quot;us-east-2&quot;,\n                &quot;cpu&quot;: &quot;16&quot;,\n                &quot;ebsOnly&quot;: true,\n                &quot;family&quot;: &quot;Compute optimized&quot;,\n                &quot;memory&quot;: &quot;32&quot;,\n                &quot;network&quot;: &quot;25 Gigabit&quot;,\n                &quot;os&quot;: &quot;Linux&quot;,\n                &quot;typeMajor&quot;: &quot;c6gn&quot;,\n                &quot;typeMinor&quot;: &quot;4xlarge&quot;,\n                &quot;storage&quot;: &quot;EBS only&quot;,\n                &quot;typeName&quot;: &quot;c6gn.4xlarge&quot;,\n                &quot;discount&quot;: 77,\n                &quot;interruption_frequency&quot;: &quot;5%-10%&quot;,\n                &quot;interruption_frequency_filter&quot;: 1.0,\n                &quot;spot_price&quot;: 0.1596,\n                &quot;Price_per_CPU&quot;: 0.009975,\n                &quot;Price_per_memory&quot;: 0.0049875,\n                &quot;components&quot;: [\n                    {\n                        &quot;appName&quot;: &quot;App1&quot;,\n                        &quot;componentName&quot;: &quot;Comp1&quot;\n                    },\n                    {\n                        &quot;appName&quot;: &quot;App1&quot;,\n                        &quot;componentName&quot;: &quot;comp2&quot;\n                    },\n                    {\n                        &quot;appName&quot;: &quot;App1&quot;,\n                        &quot;componentName&quot;: &quot;comp5&quot;\n                    }\n                ]\n            }\n        ],\n        &quot;region&quot;: &quot;us-east-2&quot;\n    },\n    {\n        &quot;price&quot;: 0.3,\n        ...\n    }\n]</code></pre></div>\n<h2 id=\"local-search-algorithm-description\" style=\"position:relative;\"><a href=\"#local-search-algorithm-description\" aria-label=\"local search algorithm description permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Local Search Algorithm Description</h2>\n<h3 id=\"general-description\" style=\"position:relative;\"><a href=\"#general-description\" aria-label=\"general description permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>General Description</h3>\n<p>The algorithm Is split into epochs.\neach epoch is a combination of 2 phases:</p>\n<ul class=\"pf-c-list\">\n<li><strong>searching</strong> - search for combiniation with minimal price. the search is based on Simulated Annealing and Stochastic Hill Climbing.</li>\n<li>\n<p><strong>selecting the next node to start searching from</strong> -</p>\n<ul class=\"pf-c-list\">\n<li>selects randomly.</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"search-algorithm\" style=\"position:relative;\"><a href=\"#search-algorithm\" aria-label=\"search algorithm permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Search Algorithm</h4>\n<p>the search is based on Simulated Annealing and Stochastic Hill Climbing.</p>\n<div class=\"gatsby-highlight\" data-language=\"mermaid\"><pre class=\"language-mermaid\"><code class=\"language-mermaid\">flowchart TD\n    O[initial node]\n    A[decide proportion of sons to develop]\n    B[develop proportion node sons]\n    C[Split the group of sons:\\n one that improve start node price  \\n one that deteriorated start node price]\n    D{decide to improve?}\n    E[select one of the bad nodes stochastically,\\n weighted by diff]\n    F[select one of the good nodes stochastically,\\n weighted by diff]\n    G{selected?}\n    H[finish search]\n    I[continue search from selected node]\n\n    O --&gt; A --&gt;B --&gt; C --&gt;D\n    D -- no --&gt; E --&gt; G\n    D -- yes --&gt; F --&gt; G\n\n    G -- no --&gt; H\n    G -- yes --&gt; I --&gt;A</code></pre></div>\n<h3 id=\"hyperparameter\" style=\"position:relative;\"><a href=\"#hyperparameter\" aria-label=\"hyperparameter permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>HyperParameter</h3>\n<ul class=\"pf-c-list\">\n<li><strong>Candidate list size</strong> - The maximum capacity of the Candidate list size from the Reset Selector.</li>\n<li><strong>Time per region</strong> - The maximum time [seconds] the algorithm is allowed to run on each of the regions.</li>\n<li><strong>Proportion amount node sons to develop</strong> - Initial proportion to develop at each epoch.</li>\n<li><strong>Exploitation score price bias</strong> - Proportion between price score and subtree score.</li>\n<li><strong>Exploration score depth bias</strong> - Proportion between depth score and uniqueness score.</li>\n<li><strong>Exploitation bias</strong> -  Proportion between exploitation score and exploration score.</li>\n</ul>","fields":{"srcLink":"https://github.com/aicoe-aiops/cloud-price-analysis-public/blob/master/src/CloudCostOptimizer (CCO)/README.md"},"frontmatter":{"title":"","description":null,"extraClasses":null,"banner":null}}},"pageContext":{"id":"1b22c8d9-3a72-52df-9acd-34d0dfc22d6f"}},"staticQueryHashes":["1764348645","2823140819","3000541721","3606484676"]}