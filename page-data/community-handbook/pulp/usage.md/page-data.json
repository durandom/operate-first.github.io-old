{"componentChunkName":"component---src-templates-markdown-remark-js","path":"/community-handbook/pulp/usage.md","result":{"data":{"site":{"siteMetadata":{"title":"Operate First"}},"markdownRemark":{"id":"27ab2220-a4c3-5cc0-8254-b5f15b22661c","html":"<p>This document states basic usage of the Pulp instance hosted on Operate First.\nThe Pulp instance is available at\n<a href=\"https://pulp.operate-first.cloud/pulp/api/v3/status/\">pulp.operate.first.cloud</a>\nand is used at Red Hat to host Python packages as an alternative to the\npublicly available <a href=\"https://pypi.org/\">PyPI</a>. Unlike PyPI, Pulp hosts multiple\nPython package indexes that can be specific to teams or user needs.</p>\n<h2 id=\"system-requirements-for-consuming-python-packages\" style=\"position:relative;\"><a href=\"#system-requirements-for-consuming-python-packages\" aria-label=\"system requirements for consuming python packages permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>System requirements for consuming Python packages</h2>\n<p><strong>Minimum requirements:</strong> RHEL 7 + SCL Python and pip</p>\n<p><strong>Optimal requirements:</strong> RHEL 8, UBI 8 or Fedora which is not EOL</p>\n<h2 id=\"requesting-a-python-package-index-on-operate-first-pulp\" style=\"position:relative;\"><a href=\"#requesting-a-python-package-index-on-operate-first-pulp\" aria-label=\"requesting a python package index on operate first pulp permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Requesting a Python package index on Operate First Pulp</h2>\n<ol class=\"pf-c-list\">\n<li>Request a repository on the Operate first Pulp Python package index for your package by\n<a href=\"https://github.com/operate-first/support/issues/new/choose\">creating a request at\noperate-first/support</a>\nusing the ”<em>New Python package index request</em>” template.</li>\n<li>An admin of the Operate first Pulp Python package index will create the index\nand provide the url for the explicit package in the ticket.</li>\n</ol>\n<h2 id=\"consuming-python-packages-from-pulp-python-index\" style=\"position:relative;\"><a href=\"#consuming-python-packages-from-pulp-python-index\" aria-label=\"consuming python packages from pulp python index permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Consuming Python packages from Pulp Python index</h2>\n<p>To consume packages from the Pulp Python package index, point pip to it using\n<a href=\"https://pip.pypa.io/en/stable/cli/pip_install/#install-index-url\">—index-url</a>:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">pip <span class=\"token function\">install</span> --index-url https://pulp.operate-first.cloud/pypi/<span class=\"token operator\">&lt;</span>index-name<span class=\"token operator\">></span>/simple/ --extra-index-url https://pypi.org/simple</code></pre></div>\n<p><a href=\"https://pip.pypa.io/en/stable/cli/pip_install/#cmdoption-extra-index-url\">—extra-index-url</a>\n(optional) will make sure that packages that are not found on the specified\nPulp index are looked up on <a href=\"https://pypi.org/\">PyPI</a>.</p>\n<p>You can also use <a href=\"https://pipenv.pypa.io/\">Pipenv</a> and <a href=\"https://pipenv.pypa.io/en/latest/advanced/#specifying-package-indexes\">configure Python\npackage indexes in\nPipfile</a>.</p>\n<p><strong>NOTE:</strong> Both cases are prone to dependency confusion attacks so mind\ndependencies you install.</p>\n<p><strong>Experimental:</strong> You can use <a href=\"https://thoth-station.ninja\">Thoth</a> to consume\nPython packages. See its <a href=\"https://thoth-station.ninja/docs/developers/adviser/experimental_features.html#strict-index-configuration\">strict index\nconfiguration</a>.</p>\n<h2 id=\"publishing-python-packages-to-pulp-python-index\" style=\"position:relative;\"><a href=\"#publishing-python-packages-to-pulp-python-index\" aria-label=\"publishing python packages to pulp python index permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Publishing Python packages to Pulp Python index</h2>\n<p>Currently, only <a href=\"https://github.com/AICoE/aicoe-ci\">AICoE-CI</a> can publish\nPython packages to Pulp as Pulp does not support RBAC. Thus AICoE-CI acts as an\nauthority for publishing Python packages to Pulp indexes.\nFollow instructions:</p>\n<ul class=\"pf-c-list\">\n<li>Install <a href=\"https://github.com/apps/aicoe-ci\">aicoe-ci</a> GitHub app in your GitHub repository.</li>\n<li>Include <code class=\"language-text\">.aicoe-ci.yaml</code> configuration.yaml, a sample can be found <a href=\"https://github.com/thoth-station/aicoe-ci-pulp-upload-example/blob/master/.aicoe-ci.yaml\">here</a>.</li>\n<li>Edit the snippet below with your explicit <strong>index name</strong> and add it in <code class=\"language-text\">.aicoe-ci.yaml</code> configuration yaml</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">package-upload</span><span class=\"token punctuation\">:</span>\n  <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">instance</span><span class=\"token punctuation\">:</span> pulp\n    <span class=\"token key atrule\">pulp-index</span><span class=\"token punctuation\">:</span> &lt;index<span class=\"token punctuation\">-</span>name<span class=\"token punctuation\">></span>\n    <span class=\"token key atrule\">allow-sdist</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n    <span class=\"token key atrule\">allow-bdist</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span></code></pre></div>\n<ul class=\"pf-c-list\">\n<li>Create a tag in GitHub and the app will upload the package to operate first pulp python index.</li>\n</ul>\n<p>Example: <a href=\"https://github.com/thoth-station/aicoe-ci-pulp-upload-example\">thoth-station/aicoe-ci-pulp-upload-example</a>\nto see how to configure AICoE-CI\nto publish Python packages to your Pulp index.</p>","fields":{"srcLink":"https://github.com/thoth-station/pulp-operate-first-web/blob/master/usage.md"},"frontmatter":{"title":"Pulp Python package index","description":"Pulp Python package index","extraClasses":null,"banner":null}}},"pageContext":{"id":"27ab2220-a4c3-5cc0-8254-b5f15b22661c"}},"staticQueryHashes":["1764348645","2823140819","3000541721","3606484676"]}